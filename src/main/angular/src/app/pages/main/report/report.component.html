<div class="site_main">
  <div class="container-fluid p-0">
    <div class="col-12 p-0">
      <div class="table_scroll">
        <table>
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Customer name</th>
              <th scope="col">Total License Distributed</th>
              <th scope="col">Total Product Distributed</th>
            </tr>
          </thead>
          <tbody id="accordion">
            <ng-container *ngFor="let report of licebseReports; index as i">
              <tr id="{{ report.id }}" class="">
                <td>{{ i + 1 }}</td>
                <td>{{ report.name }}</td>
                <td>
                  {{ report.licenseCount }}
                </td>
                <td
                  data-toggle="collapse"
                  [attr.data-target]="'#collapse' + i"
                  (click)="getLicenseByEmail(report)"
                  class="cursor"
                >
                  {{ report.productCount }}
                </td>
              </tr>
              <tr>
                <td colspan="9" class="padding">
                  <div
                    [attr.id]="'collapse' + i"
                    class="collapse"
                    data-parent="#accordion"
                  >
                    <div class="sub_table mt-3 p-0">
                      <div
                        *ngIf="report.productLoader"
                        class="text-center w-100"
                      >
                        <img
                          width="100px"
                          src="assets/images/loader3.gif"
                          alt=""
                        />
                      </div>
                      <h3>Projects Products Reports By Email</h3>
                      <table>
                        <thead class="users_table_hader">
                          <tr>
                            <th scope="col">#</th>

                            <th scope="col">startDate</th>
                            <th scope="col">endDate</th>
                            <th scope="col">expirationMonthCount</th>
                            <th scope="col">expirationPeriodType</th>
                            <th scope="col">licenseCount</th>
                            <th scope="col">licenseTypeName</th>
                            <th scope="col">status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let report of licebseReportsByEmail;
                              index as i
                            "
                          >
                            <td>{{ i + 1 }}</td>
                            <td>{{ report.startDate }}</td>
                            <td>{{ report.endDate }}</td>
                            <td>{{ report.expirationMonthCount }}</td>
                            <td>{{ report.expirationPeriodType }}</td>
                            <td>{{ report.licenseCount }}</td>
                            <td>{{ report.licenseTypeName }}</td>
                            <td>{{ report.status }}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <div *ngIf="isloader" class="loader">
          <img class="loader_gif" src="assets/images/loader3.gif" alt="" />
        </div>
        <div class="no_product" *ngIf="!licebseReports?.length && !isloader">
          <h2>
            <img src="assets/images/alert.svg" alt="" /> No Reports Available
            Now
          </h2>
        </div>
      </div>
    </div>
  </div>
</div>
