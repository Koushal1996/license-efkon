<div class="container mt-4">
  <button class="btn btn-danger" (click)="createpProject()">Create Project</button>
</div>

<div class="text-center">
  <div *ngIf="isloader" class="spinner-border text-danger" style="width: 6rem; height: 6rem;"></div>
</div>
<div class="table-responsive">

  <table class="table table-bordered mt-4">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Customer Name</th>
        <th scope="col">Customer Email</th>
        <th scope="col"> Is Email Send</th>
        <th scope="col">Customer Contact NO</th>
        <th scope="col"> Project Type</th>
        <th scope="col">Project Manager</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody *ngFor="let project of projects ; index as i">  
      <tr data-toggle="collapse" [attr.data-target]="'#collapse' + i">
        <td>{{i+1}}</td>
        <td>{{project.customerName}}</td>
        <td>{{project.customerEmail}}</td>
        <td>{{project.isEmailSend}}</td>
        <td>{{project.customerContactNo}}</td>
        <td>{{project.projectTypeName}}</td>
        <td>{{project.projectManagerName}}</td>
        <td><button class=" btn btn-primary" 
          (click)="addProduct(project)"
          >Add Product</button></td>
      </tr>
    
        <tr *ngIf="project.products.length">
          <td colspan="8" class="padding">
            <div [attr.id]="'collapse' + i" class="collapse">
              <table class="table table-bordered">
                <tr class="text-primary">
                  <th scope="col">#</th>
                   <th scope="col">License Count</th>
                  <th scope="col">License Type</th>
                  <th scope="col">Expiration Period</th>
                  <th scope="col">Expiration Month Count</th>
                  <th scope="col"> Start Date </th>
                  <th scope="col">End Date</th>
                  <th scope="col">Status</th>
                  <th scope="col">Action</th>
                  </tr>
                <tr *ngFor="let pro of project.products ; index as i">
                  <td>{{i+1}}</td>
                  <td>{{pro.licenseCount}}</td>
                  <td>{{pro.licenseType}}</td>
                  <td>{{pro.expirationPeriodType}}</td>
                  <td>{{pro.expirationMonthCount}}</td>
                  <td>{{pro.startDate}}</td>
                  <td>{{pro.endDate}}</td>
                  <td>{{pro.status}}</td>
                  <td>
                    <a class="text-danger pl-2 cursor" (click)="deleteProduct(pro)">
                    <i class="fa fa-trash"></i>
                  </a>
                </td>
                </tr>
              </table>
            </div>
          </td>
        </tr>

    </tbody>
  </table>
</div>